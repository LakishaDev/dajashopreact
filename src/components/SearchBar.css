/* ================== TOKENS ================== */
.searchNeo {
  --h: 36px;                    /* kompaktno po difoltu */
  --radius: 999px;
  --bg: var(--color-surface, #f5f5f7);
  --text: var(--color-text, #111);
  --border: var(--color-border, #e5e7eb);
  --primary: var(--color-primary, #111);
  --focus: color-mix(in oklab, var(--primary) 16%, transparent);

  --btn-size: 32px;
  --btn-gap: 6px;
  --pad-x: 10px;

  position: relative;
  display: flex;
  align-items: center;

  /* layout-safe u headeru (ne gura sve) */
  width: auto;
  flex: 1 1 360px;
  min-width: 180px;
  max-width: 560px;
  box-sizing: border-box;

  height: var(--h);
  border-radius: var(--radius);
  background: var(--bg);
  border: 1px solid var(--border);
  box-shadow: var(--shadow-1, 0 1px 2px rgba(0,0,0,.03));
  backdrop-filter: saturate(1.15) blur(6px);
  transition: border-color .25s ease, box-shadow .25s ease, background .25s ease;
}
.searchNeo, .searchNeo * { min-width: 0; }

.searchNeo.is-focused {
  border-color: var(--focus);
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.08);
}

/* ================== LEADING IKONA ================== */
.s2__leading {
  margin-left: var(--pad-x);
  color: var(--text);
  opacity: .65;
  pointer-events: none;
}

/* ================== INPUT ================== */
.s2__input {
  flex: 1 1 auto;
  min-width: 0;
  height: 100%;
  margin-left: 8px;
  padding: 0 var(--pad-x);
  border: 0;
  outline: 0;
  background: transparent;
  color: var(--text);
  font-size: 14px;
  letter-spacing: .2px;

  /* mesto desno za dugme */
  padding-right: calc(var(--pad-x) + var(--btn-size) + var(--btn-gap) + 6px);
}
.s2__input::placeholder {
  color: color-mix(in oklab, var(--text) 55%, transparent);
}

/* ================== CLEAR (X) ================== */
.s2__clear {
  position: absolute;
  right: calc(var(--btn-gap) + var(--btn-size) + 6px);
  top: 50%;
  transform: translateY(-50%) scale(.92);
  width: 22px; height: 22px;
  display: grid; place-items: center;
  border-radius: 50%;
  border: 1px solid var(--border);
  background: color-mix(in oklab, var(--bg) 86%, #fff);
  opacity: 0; pointer-events: none;
  transition: opacity .2s ease, transform .2s ease, border-color .2s ease, background .2s ease;
}
.searchNeo.has-value .s2__clear {
  opacity: 1; pointer-events: auto; transform: translateY(-50%) scale(1);
}
.s2__clear:hover { border-color: var(--focus); }

/* ================== SUBMIT (okruglo unutra) ================== */
.s2__submit {
  position: absolute;
  right: var(--btn-gap);
  top: 50%;
  width: var(--btn-size);
  height: var(--btn-size);
  transform: translateY(-50%) scale(.85) rotate(-6deg);
  border-radius: 50%;
  border: 0;
  background: var(--primary);
  color: #111;
  display: grid; place-items: center;
  opacity: 0; pointer-events: none;
  box-shadow: 0 6px 12px rgba(0,0,0,.12);
  transition: transform .34s cubic-bezier(.2,.8,.2,1), opacity .22s ease;
  will-change: transform, opacity;
}
.searchNeo.has-value .s2__submit {
  opacity: 1; pointer-events: auto;
  transform: translateY(-50%) scale(1) rotate(0deg);
}
.s2__submit:active { transform: translateY(-50%) scale(.98); }

.s2__submitIcon {
  transform: translateX(-1px);
  transition: transform .3s cubic-bezier(.2,.8,.2,1);
}
.searchNeo.has-value .s2__submitIcon { transform: translateX(0); }

/* Pulse ring kada se pojavi dugme */
.s2__pulse {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  box-shadow: 0 0 0 0 color-mix(in oklab, #fff 35%, transparent);
  opacity: 0; pointer-events: none;
}
.searchNeo.has-value .s2__submit .s2__pulse { animation: s2Pulse .6s ease-out .05s both; }
@keyframes s2Pulse {
  0%   { box-shadow: 0 0 0 0 color-mix(in oklab, #fff 45%, transparent); opacity: .5; }
  100% { box-shadow: 0 0 0 14px transparent; opacity: 0; }
}

/* ================== MOBILE TWEAKS ================== */
@media (max-width: 480px) {
  .searchNeo {
    --h: 34px;
    --btn-size: 30px;
    max-width: none;
    flex-basis: 100%;
  }
}

/* iOS/Safari reset & a11y */
.s2__submit, .s2__clear { -webkit-appearance: none; }
.s2__input:focus-visible { outline: none; }
